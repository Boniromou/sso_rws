<%= form_tag({controller: :domains, action: :create}, method: :post, remote: true, id: "create_domain_form", "data-toggle" => "validator") do %>

<table id="domain" class="table table-striped table-bordered table-hover" style="border-collapse:collapse;">
  <thead>
    <tr>
    <th class="col-md-1"><%= t("domain.domain_name") %></th>
    <th class="col-md-1" id="updated-at"><%= t("domain.updated_at") %></th>
    <th class="col-md-1"><%= t("domain.operations") %></th>
    </tr>
    <% if policy(:domain).create? %>
      <tr align="center">
        <td>
          <%= text_field(:domain, :name, required: true, pattern: "^[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$", onvalidate: "this.setCustomValidity(#{I18n.t('alert.domain_invalid')})") %>
        </td>
        <td ></td>
        <td>
          <%= button_tag("add", id: "create_domain", title: "Add", class: "btn btn-primary pop-up-confirm", remote: true) do %>
            <i class="fa fa-plus-square"></i>
          <% end %>
        </td>
      </tr>
    <% end %>
  </thead>

  <tbody>
    <!-- domain list -->
    <% @domains.each do |domain| %>
      <tr align="center">
        <td><%= domain.name %></td>
        <td><%= format_time(domain.updated_at) %></td>
        <td></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div id="dialog_simple" title="Dialog Simple Title"></div>
<div id="confirm" style="display:none"><i class='fa fa-check'><%= t("general.confirm") %></i></div>
<div id="cancel" style="display:none"><i class='fa fa-times'><%= t("general.cancel") %></i></div>

<% end %>